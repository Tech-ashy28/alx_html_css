<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Simple Pong Game</title>
    <style>
      body {
        display: flex;
        flex-direction: column;
        align-items: center;
        background: #181818;
        color: #fff;
        font-family: Arial, sans-serif;
      }

      h1 {
        margin-top: 30px;
        margin-bottom: 10px;
      }

      #pong {
        background: #222;
        border: 4px solid #fff;
        box-shadow: 0 0 20px #000;
        display: block;
        margin: 0 auto;
      }
    </style>
  </head>
  <body>
    <h1>Simple Pong Game</h1>
    <canvas id="pong" width="800" height="500"></canvas>
    <script>
      const canvas = document.getElementById("pong");
const ctx = canvas.getContext("2d");

// Game settings
const paddleWidth = 12;
const paddleHeight = 100;
const ballSize = 14;
const aiSpeed = 4;
const playerX = 20;
const aiX = canvas.width - playerX - paddleWidth;

// Game state
let playerY = (canvas.height - paddleHeight) / 2;
let aiY = (canvas.height - paddleHeight) / 2;
let ballX = canvas.width / 2 - ballSize / 2;
let ballY = canvas.height / 2 - ballSize / 2;
let ballSpeedX = 5 * (Math.random() > 0.5 ? 1 : -1);
let ballSpeedY = 4 * (Math.random() > 0.5 ? 1 : -1);

// Draw paddles and ball
function drawPaddle(x, y) {
    ctx.fillStyle = "#fff";
    ctx.fillRect(x, y, paddleWidth, paddleHeight);
}

function drawBall(x, y) {
    ctx.fillStyle = "#fff";
    ctx.fillRect(x, y, ballSize, ballSize);
}

// Draw the net
function drawNet() {
    ctx.fillStyle = "#fff";
    for(let i = 0; i < canvas.height; i += 30) {
        ctx.fillRect(canvas.width/2 - 2, i, 4, 18);
    }
}

// Reset ball to center
function resetBall() {
    ballX = canvas.width / 2 - ballSize / 2;
    ballY = canvas.height / 2 - ballSize / 2;
    ballSpeedX = 5 * (Math.random() > 0.5 ? 1 : -1);
    ballSpeedY = 4 * (Math.random() > 0.5 ? 1 : -1);
}

// Mouse movement for left paddle
canvas.addEventListener('mousemove', function(evt) {
    const rect = canvas.getBoundingClientRect();
    const mouseY = evt.clientY - rect.top;
    playerY = Math.max(0, Math.min(canvas.height - paddleHeight, mouseY - paddleHeight / 2));
});

// Collision detection
function collision(px, py, bx, by) {
    return bx < px + paddleWidth &&
           bx + ballSize > px &&
           by < py + paddleHeight &&
           by + ballSize > py;
}

// Game loop
function gameLoop() {
    // Move the ball
    ballX += ballSpeedX;
    ballY += ballSpeedY;

    // Ball collision with top and bottom walls
    if(ballY <= 0 || ballY + ballSize >= canvas.height) {
        ballSpeedY = -ballSpeedY;
    }

    // Ball collision with left paddle (player)
    if(collision(playerX, playerY, ballX, ballY)) {
        ballX = playerX + paddleWidth; // Prevent sticking
        ballSpeedX = -ballSpeedX;

        // Add variation based on hit position
        let hitPos = (ballY + ballSize/2) - (playerY + paddleHeight/2);
        ballSpeedY = hitPos * 0.2;
    }

    // Ball collision with right paddle (AI)
    if(collision(aiX, aiY, ballX, ballY)) {
        ballX = aiX - ballSize; // Prevent sticking
        ballSpeedX = -ballSpeedX;

        // Add variation based on hit position
        let hitPos = (ballY + ballSize/2) - (aiY + paddleHeight/2);
        ballSpeedY = hitPos * 0.2;
    }

    // Ball out of bounds: reset
    if(ballX < 0 || ballX + ballSize > canvas.width) {
        resetBall();
    }

    // AI movement
    let aiCenter = aiY + paddleHeight / 2;
    if(aiCenter < ballY + ballSize/2 - 10) {
        aiY += aiSpeed;
    } else if(aiCenter > ballY + ballSize/2 + 10) {
        aiY -= aiSpeed;
    }
    // Clamp AI paddle within the canvas
    aiY = Math.max(0, Math.min(canvas.height - paddleHeight, aiY));

    // Drawing
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    drawNet();
    drawPaddle(playerX, playerY);
    drawPaddle(aiX, aiY);
    drawBall(ballX, ballY);

    requestAnimationFrame(gameLoop);
}

// Start the game
gameLoop();
    </script>
  </body>
</html>
